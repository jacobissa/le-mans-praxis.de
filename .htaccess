#Rewrite everything to https
RewriteEngine On
RewriteCond %{HTTPS} !=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]

## HTTP Security Header ##
<IfModule mod_headers.c>
Header always set Content-Security-Policy "upgrade-insecure-requests;"
Header always set Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
Header always set Referrer-Policy "strict-origin-when-cross-origin"
Header always set Permissions-Policy "geolocation=(), midi=(), camera=(), usb=(), magnetometer=(), accelerometer=(), vr=(), speaker=(), ambient-light-sensor=(), gyroscope=(), microphone=()"
Header always set X-Frame-Options "SAMEORIGIN"
Header always set X-Content-Type-Options "nosniff"
Header always set X-Xss-Protection "1; mode=block"
</IfModule>

## Redirect ##
Redirect 301 /home https://le-mans-praxis.de
Redirect 301 /praxisteam https://le-mans-praxis.de
Redirect 301 /leistungen https://le-mans-praxis.de
Redirect 301 /datenschutz https://le-mans-praxis.de
Redirect 301 /impressum https://le-mans-praxis.de
Redirect 301 /team https://le-mans-praxis.de
Redirect 301 /team/ https://le-mans-praxis.de
ErrorDocument 403 https://le-mans-praxis.de
ErrorDocument 404 https://le-mans-praxis.de


## EXPIRES CACHING ##
<IfModule mod_expires.c>
AddType application/x-font-ttf .ttf
AddType application/font-woff2 .woff2
ExpiresActive On
ExpiresDefault                                  "now"
ExpiresByType image/jpeg                        "now"
ExpiresByType image/png                         "now"
ExpiresByType image/svg+xml                     "now"
ExpiresByType text/css                          "now"
ExpiresByType application/javascript            "access plus 100 days"
ExpiresByType application/x-font-ttf            "access plus 100 days"
ExpiresByType application/font-woff2            "access plus 100 days"
</IfModule>
## EXPIRES CACHING ##
